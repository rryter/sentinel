<div class="bg-white p-4 rounded-lg shadow">
  <h3 class="text-lg font-medium text-gray-900 mb-4">
    Pattern Matches Over Time
  </h3>

  <div *ngIf="isLoading" class="flex justify-center py-8">
    <div
      class="animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"
    ></div>
  </div>

  <div *ngIf="error" class="bg-red-50 p-4 rounded-md">
    <p class="text-sm text-red-800">{{ error }}</p>
  </div>

  <div *ngIf="!isLoading && !error">
    @if (chartData$ | async; as result) {
    <div *ngIf="result.length === 0" class="text-center py-4 text-gray-500">
      No data available for the selected time period.
    </div>

    <div *ngIf="result.length > 0" class="h-64">
      <canvas #chartCanvas></canvas>
    </div>
    }
  </div>
</div>
